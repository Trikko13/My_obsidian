(Вернутся после Гринплам)

Основная идея – обрабатывать как можно меньше данных (фильтровать раньше). Достигается через pushdown filter (пробрасывание where на системы-источники в случае федеративных систем/ETL систем или в таблицы-источники в случае использования view/функций в БД), через индексы в OLTP, через партиции (реже – кластеры) в OLAP, распределение в MPP системе по шардам равномерно (вся упряжка бежит со скоростью самой медленной лошадки). Также в MPP стоит минимизировать shuffle, где возможно (не менять ключ распределения и сортировку на каждом шаге расчёта витрин, использовать broadcast join для справочников).

  
Любят спрашивать про чтение план запроса. Волшебные слова: через EXPLAIN ANALYZE смотрим план, ищем нехорошие слова (nested loop, shuffle, table scan – игнорирование индекса). Радуемся, когда видим хорошие hash join, merge join, index seek (использование индекса).

  
Для Greenplum нужно минимизировать количество спиллов (сохранение данных на диск, когда они не помещаются в памяти), слайсов (каждый слайс это перемещение данных по сети) и выполнения операций на мастере (gather motion n:1),  
где n – число сегментов.

**